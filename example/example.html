
<!-- saved from url=(0030)http://localhost:6060/cmd/cgo/ -->
<html><body><div class="webkit-line-gutter-backdrop"></div><table><tbody><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-doctype">&lt;!DOCTYPE html&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;html&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;head&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;meta <span class="webkit-html-attribute-name">http-equiv</span>="<span class="webkit-html-attribute-value">Content-Type</span>" <span class="webkit-html-attribute-name">content</span>="<span class="webkit-html-attribute-value">text/html; charset=utf-8</span>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  <span class="webkit-html-tag">&lt;title&gt;</span>Command cgo - The Go Programming Language<span class="webkit-html-tag">&lt;/title&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;link <span class="webkit-html-attribute-name">type</span>="<span class="webkit-html-attribute-value">text/css</span>" <span class="webkit-html-attribute-name">rel</span>="<span class="webkit-html-attribute-value">stylesheet</span>" <span class="webkit-html-attribute-name">href</span>="<a class="webkit-html-attribute-value webkit-html-resource-link" target="_blank" href="http://localhost:6060/doc/style.css">/doc/style.css</a>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;script <span class="webkit-html-attribute-name">type</span>="<span class="webkit-html-attribute-value">text/javascript</span>" <span class="webkit-html-attribute-name">src</span>="<a class="webkit-html-attribute-value webkit-html-resource-link" target="_blank" href="http://localhost:6060/doc/godocs.js">/doc/godocs.js</a>"&gt;</span><span class="webkit-html-tag">&lt;/script&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/head&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;body&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">topbar</span>"&gt;</span><span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">class</span>="<span class="webkit-html-attribute-value">container</span>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;form <span class="webkit-html-attribute-name">method</span>="<span class="webkit-html-attribute-value">GET</span>" <span class="webkit-html-attribute-name">action</span>="<span class="webkit-html-attribute-value">/search</span>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">heading</span>"&gt;</span><span class="webkit-html-tag">&lt;a <span class="webkit-html-attribute-name">href</span>="<a class="webkit-html-attribute-value webkit-html-external-link" target="_blank" href="http://localhost:6060/">/</a>"&gt;</span>The Go Programming Language<span class="webkit-html-tag">&lt;/a&gt;</span><span class="webkit-html-tag">&lt;/div&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">menu</span>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;a <span class="webkit-html-attribute-name">href</span>="<a class="webkit-html-attribute-value webkit-html-external-link" target="_blank" href="http://localhost:6060/doc/">/doc/</a>"&gt;</span>Learn<span class="webkit-html-tag">&lt;/a&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;a <span class="webkit-html-attribute-name">href</span>="<a class="webkit-html-attribute-value webkit-html-external-link" target="_blank" href="http://localhost:6060/install/">/install/</a>"&gt;</span>Install<span class="webkit-html-tag">&lt;/a&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;a <span class="webkit-html-attribute-name">href</span>="<a class="webkit-html-attribute-value webkit-html-external-link" target="_blank" href="http://localhost:6060/project/">/project/</a>"&gt;</span>Project<span class="webkit-html-tag">&lt;/a&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;a <span class="webkit-html-attribute-name">href</span>="<a class="webkit-html-attribute-value webkit-html-external-link" target="_blank" href="http://localhost:6060/doc/reference.html">/doc/reference.html</a>"&gt;</span>Reference<span class="webkit-html-tag">&lt;/a&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;input <span class="webkit-html-attribute-name">type</span>="<span class="webkit-html-attribute-value">text</span>" <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">search</span>" <span class="webkit-html-attribute-name">name</span>="<span class="webkit-html-attribute-value">q</span>" <span class="webkit-html-attribute-name">class</span>="<span class="webkit-html-attribute-value">inactive</span>" <span class="webkit-html-attribute-name">value</span>="<span class="webkit-html-attribute-value">Search</span>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/div&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/form&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/div&gt;</span><span class="webkit-html-tag">&lt;/div&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">page</span>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">content</span>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  <span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">plusone</span>"&gt;</span><span class="webkit-html-tag">&lt;g:plusone <span class="webkit-html-attribute-name">size</span>="<span class="webkit-html-attribute-value">small</span>" <span class="webkit-html-attribute-name">annotation</span>="<span class="webkit-html-attribute-value">none</span>"&gt;</span><span class="webkit-html-tag">&lt;/g:plusone&gt;</span><span class="webkit-html-tag">&lt;/div&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">  <span class="webkit-html-tag">&lt;h1&gt;</span>Command cgo<span class="webkit-html-tag">&lt;/h1&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">nav</span>"&gt;</span><span class="webkit-html-tag">&lt;/div&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">&lt;!--</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">	Copyright 2009 The Go Authors. All rights reserved.</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">	Use of this source code is governed by a BSD-style</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">	license that can be found in the LICENSE file.</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">--&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">	  </td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">		<span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">Cgo enables the creation of Go packages that call C code.</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">Usage: go tool cgo [compiler options] file.go</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">The compiler options are passed through uninterpreted when</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">invoking gcc to compile the C parts of the package.</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">The input file.go is a syntactically valid Go source file that imports</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">the pseudo-package &amp;#34;C&amp;#34; and then refers to types such as C.size_t,</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">variables such as C.stdout, or functions such as C.putchar.</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">If the import of &amp;#34;C&amp;#34; is immediately preceded by a comment, that</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">comment is used as a header when compiling the C parts of</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">the package.  For example:</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;pre&gt;</span>// #include &amp;lt;stdio.h&amp;gt;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">// #include &amp;lt;errno.h&amp;gt;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">import &amp;#34;C&amp;#34;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/pre&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">CFLAGS and LDFLAGS may be defined with pseudo #cgo directives</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">within these comments to tweak the behavior of gcc.  Values defined</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">in multiple directives are concatenated together.  Options prefixed</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">by $GOOS, $GOARCH, or $GOOS/$GOARCH are only defined in matching</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">systems.  For example:</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;pre&gt;</span>// #cgo CFLAGS: -DPNG_DEBUG=1</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">// #cgo linux CFLAGS: -DLINUX=1</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">// #cgo LDFLAGS: -lpng</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">// #include &amp;lt;png.h&amp;gt;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">import &amp;#34;C&amp;#34;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/pre&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">Alternatively, CFLAGS and LDFLAGS may be obtained via the pkg-config</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">tool using a &amp;#39;#cgo pkg-config:&amp;#39; directive followed by the package names.</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">For example:</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;pre&gt;</span>// #cgo pkg-config: png cairo</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">// #include &amp;lt;png.h&amp;gt;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">import &amp;#34;C&amp;#34;</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/pre&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">Within the Go file, C identifiers or field names that are keywords in Go</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">can be accessed by prefixing them with an underscore: if x points at a C</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">struct with a field named &amp;#34;type&amp;#34;, x._type accesses the field.</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">The standard C numeric types are available under the names</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">C.char, C.schar (signed char), C.uchar (unsigned char),</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">C.short, C.ushort (unsigned short), C.int, C.uint (unsigned int),</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">C.long, C.ulong (unsigned long), C.longlong (long long),</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">C.ulonglong (unsigned long long), C.float, C.double.</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">The C type void* is represented by Go&amp;#39;s unsafe.Pointer.</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">To access a struct, union, or enum type directly, prefix it with</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">struct_, union_, or enum_, as in C.struct_stat.</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">Any C function that returns a value may be called in a multiple</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">assignment context to retrieve both the return value and the</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">C errno variable as an error.  For example:</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;pre&gt;</span>n, err := C.atoi(&amp;#34;abc&amp;#34;)</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/pre&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">In C, a function argument written as a fixed size array</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">actually requires a pointer to the first element of the array.</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">C compilers are aware of this calling convention and adjust</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">the call accordingly, but Go cannot.  In Go, you must pass</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">the pointer to the first element explicitly: C.f(&amp;amp;x[0]).</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">A few special functions convert between Go and C types</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">by making copies of the data.  In pseudo-Go definitions:</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;pre&gt;</span>// Go string to C string</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">// The C string is allocated in the C heap using malloc.</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">// It is the caller&amp;#39;s responsibility to arrange for it to be</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">// freed, such as by calling C.free.</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">func C.CString(string) *C.char</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">// C string to Go string</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">func C.GoString(*C.char) string</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">// C string, length to Go string</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">func C.GoStringN(*C.char, C.int) string</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">// C pointer, length to Go []byte</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">func C.GoBytes(unsafe.Pointer, C.int) []byte</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/pre&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">Go functions can be exported for use by C code in the following way:</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;pre&gt;</span>//export MyFunction</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">func MyFunction(arg1, arg2 int, arg3 string) int64 {...}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">//export MyFunction2</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">func MyFunction2(arg1, arg2 int, arg3 string) (int64, *C.char) {...}</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/pre&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">They will be available in the C code as:</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;pre&gt;</span>extern int64 MyFunction(int arg1, int arg2, GoString arg3);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">extern struct MyFunction2_return MyFunction2(int arg1, int arg2, GoString arg3);</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/pre&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">found in _cgo_export.h generated header. Functions with multiple</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">return values are mapped to functions returning a struct.</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">Not all Go types can be mapped to C types in a useful way.</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">Cgo transforms the input file into four output files: two Go source</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">files, a C file for 6c (or 8c or 5c), and a C file for gcc.</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">The standard package makefile rules in Make.pkg automate the</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">process of using cgo.  See $GOROOT/misc/cgo/stdio and</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">$GOROOT/misc/cgo/gmp for examples.</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">Cgo does not yet work with gccgo.</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">See &amp;#34;C? Go? Cgo!&amp;#34; for an introduction to using cgo:</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;a <span class="webkit-html-attribute-name">href</span>="<a class="webkit-html-attribute-value webkit-html-external-link" target="_blank" href="http://blog.golang.org/2011/03/c-go-cgo.html">http://blog.golang.org/2011/03/c-go-cgo.html</a>"&gt;</span>http://blog.golang.org/2011/03/c-go-cgo.html<span class="webkit-html-tag">&lt;/a&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/p&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">	</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">	</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/div&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/div&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;div <span class="webkit-html-attribute-name">id</span>="<span class="webkit-html-attribute-value">copyright</span>"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">Build version weekly.2012-02-14 +43cf9b39b647.</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">Except as noted, this content is licensed under a</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content">Creative Commons Attribution 3.0 License.</td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/div&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/body&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">&lt;!--</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">&lt;script type="text/javascript"&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">  (function() {</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">    po.src = 'https://apis.google.com/js/plusone.js';</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">  })();</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">&lt;/script&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-comment">--&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><span class="webkit-html-tag">&lt;/html&gt;</span></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"><br></td></tr><tr><td class="webkit-line-number"></td><td class="webkit-line-content"></td></tr></tbody></table></body></html>